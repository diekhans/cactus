import os
from cgtscons import *

# clone to avoid modifying parent enviroment
Import("env",)
env = env.Clone()

libAddCactus(env)
libAddCPecan(env)
libAddSonLib(env)

##
# cactusLib
##
clEnv = env.Clone()
makeIncludesDepends(clEnv, globModIncludes(clEnv, "cactus", ["api/include"]))
buildStaticLibrary(clEnv, CACTUS_LIB_NAME, 
                   globSrcPaths(clEnv, "api/src", "*.c"))

##
# bar
##
linkProg(env, "cactus_bar", Glob("bar/src/*.c"))


